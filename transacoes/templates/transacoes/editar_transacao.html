
{% extends "core/base.html" %}

{% block titulo %}Editar Transação{% endblock %}

{% block conteudo %}
<h2 class="mb-4">Editar Transação</h2>

<form method="POST" class="card p-4 shadow-sm">
    {% csrf_token %}

    <div class="mb-3">
        <label class="form-label">Descrição</label>
        <input type="text" name="descricao" class="form-control" value="{{ transacao.descricao }}">
    </div>

    <div class="mb-3">
        <label class="form-label">Valor</label>
        <input type="number" step="0.01" name="valor" class="form-control" value="{{ transacao.valor }}">
    </div>

    <div class="mb-3">
        <label class="form-label">Data</label>
        <input type="date" name="data" class="form-control" value="{{ transacao.data|date:'Y-m-d' }}">
    </div>

    <div class="mb-3">
        <label class="form-label">Tipo</label>
        <select name="tipo" class="form-select">
            <option value="R" {% if transacao.tipo == 'R' %}selected{% endif %}>Receita</option>
            <option value="D" {% if transacao.tipo == 'D' %}selected{% endif %}>Despesa</option>
        </select>
    </div>

    <div class="mb-4">
        <label class="form-label">Categoria</label>
        <select name="categoria" class="form-select">
            {% for c in categorias %}
            <option value="{{ c.id }}" {% if c.id == transacao.categoria.id %}selected{% endif %}>
                {{ c.nome }}
            </option>
            {% endfor %}
        </select>
    </div>

    <button class="btn btn-primary">Salvar Alterações</button>
</form>
{% endblock %}
